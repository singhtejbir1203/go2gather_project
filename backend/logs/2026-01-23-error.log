{"ip":"::1","level":"error","message":"Unhandled Error Unexpected field","method":"POST","stack":"MulterError: Unexpected field\n    at wrappedFileFilter (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/multer/index.js:40:19)\n    at Multipart.<anonymous> (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/multer/lib/make-middleware.js:132:7)\n    at Multipart.emit (node:events:524:28)\n    at HeaderParser.cb (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","statusCode":500,"timestamp":"2026-01-23 09:46:20","url":"/api/vehicles/request-approval","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:09","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:09","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:15","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:15","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:30","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:30","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:34","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:24:34","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:26:27","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:26:27","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:26:29","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:26:29","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:26:33","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error Cannot destructure property 'rideId' of 'req.body' as it is undefined.","method":"POST","stack":"TypeError: Cannot destructure property 'rideId' of 'req.body' as it is undefined.\n    at getOrCreateConversation (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/controllers/chatController.js:7:13)\n    at Layer.handleRequest (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/router/lib/route.js:157:13)\n    at protect (file:///home/tej/Desktop/my_work/go2gather_project/backend/src/middlewares/authMiddleware.js:22:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"timestamp":"2026-01-23 17:26:33","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
{"ip":"::1","level":"error","message":"Unhandled Error E11000 duplicate key error collection: blablacar_clone.conversations index: rideId_1_passengerId_1 dup key: { rideId: ObjectId('696f5efb676097ae2dbd70c9'), passengerId: ObjectId('6971dc84fe6e4f85a87f5f13') }","method":"POST","stack":"MongoServerError: E11000 duplicate key error collection: blablacar_clone.conversations index: rideId_1_passengerId_1 dup key: { rideId: ObjectId('696f5efb676097ae2dbd70c9'), passengerId: ObjectId('6971dc84fe6e4f85a87f5f13') }\n    at InsertOneOperation.handleOk (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at tryOperation (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongodb/lib/operations/execute_operation.js:216:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async Collection.insertOne (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongodb/lib/collection.js:154:16)\n    at async model.$__save (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongoose/lib/model.js:398:16)\n    at async model.save (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongoose/lib/model.js:609:5)\n    at async /home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongoose/lib/model.js:2714:9\n    at async Promise.all (index 0)\n    at async Function.create (/home/tej/Desktop/my_work/go2gather_project/backend/node_modules/mongoose/lib/model.js:2699:11)","statusCode":500,"timestamp":"2026-01-23 17:27:51","url":"/api/chat/conversation","userId":"6971dc84fe6e4f85a87f5f13"}
